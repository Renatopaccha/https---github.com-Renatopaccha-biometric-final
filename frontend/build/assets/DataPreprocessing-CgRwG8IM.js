import{r as u,j as e,R as Es,c as As,u as J,a as Ds,b as Ze,P as le,d as Se,e as X,f as de,g as Rs,h as Ps,i as Ts,k as zs,l as Ms,m as Ls,T as $s,I as Is,V as Os,n as Fs,C as Vs,o as Bs,p as Us,q as Ws,s as Hs,S as Gs,t as qs,v as yt,w as wt,W as Ys,x as jt,y as Nt,D as St,z as et,A as kt,O as Ct,B as Xs}from"./ui-vendor-CMVr8Ulj.js";import{c as V,u as Ve,D as _t,S as Js}from"./index-TgtAAYS5.js";import{F as Et,T as me,I as At,C as pe,a as Xe,b as Qs}from"./triangle-alert-Dkn3LzWk.js";import{c as Dt}from"./chart-vendor-ZionGuPd.js";import{X as ue,L as se,C as tt,T as Ks}from"./x-D5AM2qig.js";import"./react-vendor-Cl23EvnB.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Je=V("activity",Zs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],dt=V("beaker",er);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],st=V("check",tr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],rr=V("chevron-left",sr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Rt=V("chevron-up",ar);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nr=V("circle-check-big",or);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],ir=V("columns-2",lr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Be=V("copy",cr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],mr=V("droplets",dr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],Qe=V("eraser",ur);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xr=V("file-text",hr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],fr=V("refresh-ccw",gr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],mt=V("search",pr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vr=V("square-check-big",br);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],wr=V("trending-down",yr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Nr=V("undo-2",jr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],kr=V("upload",Sr),Cr="http://localhost:8000",_r=`${Cr}/api/v1`;function Er({onUploadSuccess:t}){const[s,r]=u.useState(!1),[a,o]=u.useState(!1),[n,l]=u.useState(null),c=u.useRef(null),i=async d=>{o(!0),l(null);try{const m=new FormData;m.append("file",d);const f=await fetch(`${_r}/upload`,{method:"POST",body:m}),y=await f.text();if(!f.ok)try{const N=JSON.parse(y);throw new Error(N.detail||N.message||"Error al subir el archivo")}catch{throw console.error("Non-JSON error response:",y),new Error(`Error del servidor (${f.status}): ${f.statusText}`)}let E;try{E=JSON.parse(y)}catch{throw console.error("Non-JSON success response:",y),new Error("Respuesta inválida del servidor")}t(E)}catch(m){const f=m instanceof Error?m.message:"Error desconocido al subir archivo";l(f),console.error("Upload error:",m)}finally{o(!1)}},h=d=>{if(!d)return;const m=[".csv",".xlsx",".xls"],f="."+d.name.split(".").pop()?.toLowerCase();if(!m.includes(f)){l(`Formato no válido. Use: ${m.join(", ")}`);return}const y=50*1024*1024;if(d.size>y){l("El archivo excede el tamaño máximo de 50MB");return}i(d)},g=d=>{d.preventDefault(),r(!0)},p=()=>{r(!1)},x=d=>{d.preventDefault(),r(!1);const m=d.dataTransfer.files[0];h(m)},b=()=>{c.current?.click()},v=d=>{const m=d.target.files?.[0];h(m)};return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:e.jsx("div",{className:`border-2 border-dashed rounded-lg p-16 text-center transition-all ${s?"border-teal-500 bg-teal-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,onDragOver:g,onDragLeave:p,onDrop:x,children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:`w-14 h-14 rounded-full flex items-center justify-center ${a?"bg-teal-100":"bg-teal-50"}`,children:e.jsx(kr,{className:`w-7 h-7 text-teal-600 ${a?"animate-pulse":""}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-900 mb-1",children:a?"Subiendo archivo...":"Importar Dataset"}),e.jsx("p",{className:"text-sm text-gray-600",children:a?"Por favor espera mientras procesamos tu archivo":"Arrastra y suelta tu archivo aquí o haz clic para seleccionar"})]}),e.jsx("input",{ref:c,type:"file",accept:".csv,.xlsx,.xls",onChange:v,className:"hidden",disabled:a}),e.jsx("button",{onClick:b,disabled:a,className:`px-5 py-2.5 rounded-md transition-colors text-sm ${a?"bg-gray-400 text-white cursor-not-allowed":"bg-teal-600 text-white hover:bg-teal-700"}`,children:a?"Procesando...":"Seleccionar Archivo"}),n&&e.jsx("div",{className:"mt-2 px-4 py-2 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-sm text-red-700",children:n})}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Et,{className:"w-4 h-4"}),e.jsx("span",{children:"Formatos: .csv, .xlsx, .xls"})]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"Tamaño máximo: 50MB"})]})]})})})}const Ar="http://localhost:8000",Y=`${Ar}/api/v1`;function ke(){const[t,s]=u.useState(!1),[r,a]=u.useState(null);return{isLoading:t,error:r,fetchQualityReport:async v=>{s(!0),a(null);try{const d=await fetch(`${Y}/cleaning/quality?session_id=${v}`);if(!d.ok){const f=await d.json();throw new Error(f.message||"Error al obtener reporte de calidad")}return await d.json()}catch(d){const m=d instanceof Error?d.message:"Error desconocido";return a(m),console.error("Quality report error:",d),null}finally{s(!1)}},cleanNulls:async v=>{s(!0),a(null);try{const d=await fetch(`${Y}/cleaning/nulls`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!d.ok){const f=await d.json();throw new Error(f.message||"Error al limpiar valores nulos")}return await d.json()}catch(d){const m=d instanceof Error?d.message:"Error desconocido";return a(m),console.error("Clean nulls error:",d),null}finally{s(!1)}},simulateNullCleaning:async v=>{s(!0),a(null);try{const d=await fetch(`${Y}/cleaning/nulls/simulate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!d.ok){const f=await d.json();throw new Error(f.message||"Error al simular limpieza")}return await d.json()}catch(d){const m=d instanceof Error?d.message:"Error desconocido";return a(m),console.error("Simulation error:",d),null}finally{s(!1)}},removeDuplicates:async v=>{s(!0),a(null);try{const d=await fetch(`${Y}/cleaning/duplicates`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!d.ok){const f=await d.json();throw new Error(f.message||"Error al eliminar duplicados")}return await d.json()}catch(d){const m=d instanceof Error?d.message:"Error desconocido";return a(m),console.error("Remove duplicates error:",d),null}finally{s(!1)}},deleteRows:async v=>{s(!0),a(null);try{const d=await fetch(`${Y}/cleaning/delete-rows`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!d.ok){const f=await d.json();throw new Error(f.message||"Error al eliminar filas")}return await d.json()}catch(d){const m=d instanceof Error?d.message:"Error desconocido";return a(m),console.error("Delete rows error:",d),null}finally{s(!1)}},undoLastChange:async v=>{s(!0),a(null);try{const d=await fetch(`${Y}/cleaning/undo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:v})});if(!d.ok){const f=await d.json();throw new Error(f.message||"Error al deshacer cambio")}return(await d.json()).success}catch(d){const m=d instanceof Error?d.message:"Error desconocido";return a(m),console.error("Undo error:",d),!1}finally{s(!1)}},filterColumns:async v=>{s(!0),a(null);try{const d=await fetch(`${Y}/cleaning/filter-columns`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!d.ok){const f=await d.json();throw new Error(f.message||"Error al filtrar columnas")}return await d.json()}catch(d){const m=d instanceof Error?d.message:"Error desconocido";return a(m),console.error("Filter columns error:",d),null}finally{s(!1)}},checkEmptyRows:async v=>{s(!0),a(null);try{const d=await fetch(`${Y}/cleaning/empty-rows?session_id=${v}`);if(!d.ok){const f=await d.json();throw new Error(f.message||"Error al detectar filas vacías")}return await d.json()}catch(d){const m=d instanceof Error?d.message:"Error desconocido";return a(m),console.error("Check empty rows error:",d),null}finally{s(!1)}},downloadDataset:async(v,d)=>{s(!0),a(null);try{const m=await fetch(`${Y}/export/dataset/${v}`);if(!m.ok)throw new Error("Error al descargar el dataset");const f=await m.blob(),y=window.URL.createObjectURL(f),E=document.createElement("a");return E.href=y,E.download=`${d}_clean.xlsx`,document.body.appendChild(E),E.click(),document.body.removeChild(E),window.URL.revokeObjectURL(y),!0}catch(m){const f=m instanceof Error?m.message:"Error desconocido";return a(f),console.error("Download dataset error:",m),!1}finally{s(!1)}},downloadAuditReport:async v=>{s(!0),a(null);try{const d=await fetch(`${Y}/export/audit-report/${v}`);if(!d.ok)throw new Error("Error al descargar el reporte de auditoría");const m=await d.blob(),y=`reporte_auditoria_${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}.txt`,E=window.URL.createObjectURL(m),N=document.createElement("a");return N.href=E,N.download=y,document.body.appendChild(N),N.click(),document.body.removeChild(N),window.URL.revokeObjectURL(E),!0}catch(d){const m=d instanceof Error?d.message:"Error desconocido";return a(m),console.error("Download audit report error:",d),!1}finally{s(!1)}}}}var Dr=Symbol.for("react.lazy"),Pe=Es[" use ".trim().toString()];function Rr(t){return typeof t=="object"&&t!==null&&"then"in t}function Pt(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Dr&&"_payload"in t&&Rr(t._payload)}function Tt(t){const s=Tr(t),r=u.forwardRef((a,o)=>{let{children:n,...l}=a;Pt(n)&&typeof Pe=="function"&&(n=Pe(n._payload));const c=u.Children.toArray(n),i=c.find(Mr);if(i){const h=i.props.children,g=c.map(p=>p===i?u.Children.count(h)>1?u.Children.only(null):u.isValidElement(h)?h.props.children:null:p);return e.jsx(s,{...l,ref:o,children:u.isValidElement(h)?u.cloneElement(h,void 0,g):null})}return e.jsx(s,{...l,ref:o,children:n})});return r.displayName=`${t}.Slot`,r}var Pr=Tt("Slot");function Tr(t){const s=u.forwardRef((r,a)=>{let{children:o,...n}=r;if(Pt(o)&&typeof Pe=="function"&&(o=Pe(o._payload)),u.isValidElement(o)){const l=$r(o),c=Lr(n,o.props);return o.type!==u.Fragment&&(c.ref=a?As(a,l):l),u.cloneElement(o,c)}return u.Children.count(o)>1?u.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var zr=Symbol("radix.slottable");function Mr(t){return u.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===zr}function Lr(t,s){const r={...s};for(const a in s){const o=t[a],n=s[a];/^on[A-Z]/.test(a)?o&&n?r[a]=(...c)=>{const i=n(...c);return o(...c),i}:o&&(r[a]=o):a==="style"?r[a]={...o,...n}:a==="className"&&(r[a]=[o,n].filter(Boolean).join(" "))}return{...t,...r}}function $r(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const ut=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ht=Dt,Ir=(t,s)=>r=>{var a;if(s?.variants==null)return ht(t,r?.class,r?.className);const{variants:o,defaultVariants:n}=s,l=Object.keys(o).map(h=>{const g=r?.[h],p=n?.[h];if(g===null)return null;const x=ut(g)||ut(p);return o[h][x]}),c=r&&Object.entries(r).reduce((h,g)=>{let[p,x]=g;return x===void 0||(h[p]=x),h},{}),i=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((h,g)=>{let{class:p,className:x,...b}=g;return Object.entries(b).every(v=>{let[d,m]=v;return Array.isArray(m)?m.includes({...n,...c}[d]):{...n,...c}[d]===m})?[...h,p,x]:h},[]);return ht(t,l,i,r?.class,r?.className)},Or=(t,s)=>{const r=new Array(t.length+s.length);for(let a=0;a<t.length;a++)r[a]=t[a];for(let a=0;a<s.length;a++)r[t.length+a]=s[a];return r},Fr=(t,s)=>({classGroupId:t,validator:s}),zt=(t=new Map,s=null,r)=>({nextPart:t,validators:s,classGroupId:r}),Te="-",xt=[],Vr="arbitrary..",Br=t=>{const s=Wr(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return Ur(l);const c=l.split(Te),i=c[0]===""&&c.length>1?1:0;return Mt(c,i,s)},getConflictingClassGroupIds:(l,c)=>{if(c){const i=a[l],h=r[l];return i?h?Or(h,i):i:h||xt}return r[l]||xt}}},Mt=(t,s,r)=>{if(t.length-s===0)return r.classGroupId;const o=t[s],n=r.nextPart.get(o);if(n){const h=Mt(t,s+1,n);if(h)return h}const l=r.validators;if(l===null)return;const c=s===0?t.join(Te):t.slice(s).join(Te),i=l.length;for(let h=0;h<i;h++){const g=l[h];if(g.validator(c))return g.classGroupId}},Ur=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const s=t.slice(1,-1),r=s.indexOf(":"),a=s.slice(0,r);return a?Vr+a:void 0})(),Wr=t=>{const{theme:s,classGroups:r}=t;return Hr(r,s)},Hr=(t,s)=>{const r=zt();for(const a in t){const o=t[a];rt(o,r,a,s)}return r},rt=(t,s,r,a)=>{const o=t.length;for(let n=0;n<o;n++){const l=t[n];Gr(l,s,r,a)}},Gr=(t,s,r,a)=>{if(typeof t=="string"){qr(t,s,r);return}if(typeof t=="function"){Yr(t,s,r,a);return}Xr(t,s,r,a)},qr=(t,s,r)=>{const a=t===""?s:Lt(s,t);a.classGroupId=r},Yr=(t,s,r,a)=>{if(Jr(t)){rt(t(a),s,r,a);return}s.validators===null&&(s.validators=[]),s.validators.push(Fr(r,t))},Xr=(t,s,r,a)=>{const o=Object.entries(t),n=o.length;for(let l=0;l<n;l++){const[c,i]=o[l];rt(i,Lt(s,c),r,a)}},Lt=(t,s)=>{let r=t;const a=s.split(Te),o=a.length;for(let n=0;n<o;n++){const l=a[n];let c=r.nextPart.get(l);c||(c=zt(),r.nextPart.set(l,c)),r=c}return r},Jr=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Qr=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,r=Object.create(null),a=Object.create(null);const o=(n,l)=>{r[n]=l,s++,s>t&&(s=0,a=r,r=Object.create(null))};return{get(n){let l=r[n];if(l!==void 0)return l;if((l=a[n])!==void 0)return o(n,l),l},set(n,l){n in r?r[n]=l:o(n,l)}}},Ke="!",gt=":",Kr=[],ft=(t,s,r,a,o)=>({modifiers:t,hasImportantModifier:s,baseClassName:r,maybePostfixModifierPosition:a,isExternal:o}),Zr=t=>{const{prefix:s,experimentalParseClassName:r}=t;let a=o=>{const n=[];let l=0,c=0,i=0,h;const g=o.length;for(let d=0;d<g;d++){const m=o[d];if(l===0&&c===0){if(m===gt){n.push(o.slice(i,d)),i=d+1;continue}if(m==="/"){h=d;continue}}m==="["?l++:m==="]"?l--:m==="("?c++:m===")"&&c--}const p=n.length===0?o:o.slice(i);let x=p,b=!1;p.endsWith(Ke)?(x=p.slice(0,-1),b=!0):p.startsWith(Ke)&&(x=p.slice(1),b=!0);const v=h&&h>i?h-i:void 0;return ft(n,b,x,v)};if(s){const o=s+gt,n=a;a=l=>l.startsWith(o)?n(l.slice(o.length)):ft(Kr,!1,l,void 0,!0)}if(r){const o=a;a=n=>r({className:n,parseClassName:o})}return a},ea=t=>{const s=new Map;return t.orderSensitiveModifiers.forEach((r,a)=>{s.set(r,1e6+a)}),r=>{const a=[];let o=[];for(let n=0;n<r.length;n++){const l=r[n],c=l[0]==="[",i=s.has(l);c||i?(o.length>0&&(o.sort(),a.push(...o),o=[]),a.push(l)):o.push(l)}return o.length>0&&(o.sort(),a.push(...o)),a}},ta=t=>({cache:Qr(t.cacheSize),parseClassName:Zr(t),sortModifiers:ea(t),...Br(t)}),sa=/\s+/,ra=(t,s)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:o,sortModifiers:n}=s,l=[],c=t.trim().split(sa);let i="";for(let h=c.length-1;h>=0;h-=1){const g=c[h],{isExternal:p,modifiers:x,hasImportantModifier:b,baseClassName:v,maybePostfixModifierPosition:d}=r(g);if(p){i=g+(i.length>0?" "+i:i);continue}let m=!!d,f=a(m?v.substring(0,d):v);if(!f){if(!m){i=g+(i.length>0?" "+i:i);continue}if(f=a(v),!f){i=g+(i.length>0?" "+i:i);continue}m=!1}const y=x.length===0?"":x.length===1?x[0]:n(x).join(":"),E=b?y+Ke:y,N=E+f;if(l.indexOf(N)>-1)continue;l.push(N);const $=o(f,m);for(let L=0;L<$.length;++L){const z=$[L];l.push(E+z)}i=g+(i.length>0?" "+i:i)}return i},aa=(...t)=>{let s=0,r,a,o="";for(;s<t.length;)(r=t[s++])&&(a=$t(r))&&(o&&(o+=" "),o+=a);return o},$t=t=>{if(typeof t=="string")return t;let s,r="";for(let a=0;a<t.length;a++)t[a]&&(s=$t(t[a]))&&(r&&(r+=" "),r+=s);return r},oa=(t,...s)=>{let r,a,o,n;const l=i=>{const h=s.reduce((g,p)=>p(g),t());return r=ta(h),a=r.cache.get,o=r.cache.set,n=c,c(i)},c=i=>{const h=a(i);if(h)return h;const g=ra(i,r);return o(i,g),g};return n=l,(...i)=>n(aa(...i))},na=[],O=t=>{const s=r=>r[t]||na;return s.isThemeGetter=!0,s},It=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ot=/^\((?:(\w[\w-]*):)?(.+)\)$/i,la=/^\d+\/\d+$/,ia=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ca=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,da=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ma=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ua=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xe=t=>la.test(t),A=t=>!!t&&!Number.isNaN(Number(t)),oe=t=>!!t&&Number.isInteger(Number(t)),qe=t=>t.endsWith("%")&&A(t.slice(0,-1)),ee=t=>ia.test(t),ha=()=>!0,xa=t=>ca.test(t)&&!da.test(t),Ft=()=>!1,ga=t=>ma.test(t),fa=t=>ua.test(t),pa=t=>!w(t)&&!j(t),ba=t=>ve(t,Ut,Ft),w=t=>It.test(t),ce=t=>ve(t,Wt,xa),Ye=t=>ve(t,Na,A),pt=t=>ve(t,Vt,Ft),va=t=>ve(t,Bt,fa),De=t=>ve(t,Ht,ga),j=t=>Ot.test(t),Ne=t=>ye(t,Wt),ya=t=>ye(t,Sa),bt=t=>ye(t,Vt),wa=t=>ye(t,Ut),ja=t=>ye(t,Bt),Re=t=>ye(t,Ht,!0),ve=(t,s,r)=>{const a=It.exec(t);return a?a[1]?s(a[1]):r(a[2]):!1},ye=(t,s,r=!1)=>{const a=Ot.exec(t);return a?a[1]?s(a[1]):r:!1},Vt=t=>t==="position"||t==="percentage",Bt=t=>t==="image"||t==="url",Ut=t=>t==="length"||t==="size"||t==="bg-size",Wt=t=>t==="length",Na=t=>t==="number",Sa=t=>t==="family-name",Ht=t=>t==="shadow",ka=()=>{const t=O("color"),s=O("font"),r=O("text"),a=O("font-weight"),o=O("tracking"),n=O("leading"),l=O("breakpoint"),c=O("container"),i=O("spacing"),h=O("radius"),g=O("shadow"),p=O("inset-shadow"),x=O("text-shadow"),b=O("drop-shadow"),v=O("blur"),d=O("perspective"),m=O("aspect"),f=O("ease"),y=O("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...N(),j,w],L=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],S=()=>[j,w,i],D=()=>[xe,"full","auto",...S()],F=()=>[oe,"none","subgrid",j,w],W=()=>["auto",{span:["full",oe,j,w]},oe,j,w],ie=()=>[oe,"auto",j,w],Ce=()=>["auto","min","max","fr",j,w],we=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...S()],K=()=>[xe,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],C=()=>[t,j,w],je=()=>[...N(),bt,pt,{position:[j,w]}],he=()=>["no-repeat",{repeat:["","x","y","space","round"]}],_e=()=>["auto","cover","contain",wa,ba,{size:[j,w]}],_=()=>[qe,Ne,ce],k=()=>["","none","full",h,j,w],R=()=>["",A,Ne,ce],I=()=>["solid","dashed","dotted","double"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>[A,qe,bt,pt],H=()=>["","none",v,j,w],Z=()=>["none",A,j,w],Ee=()=>["none",A,j,w],Ge=()=>[A,j,w],Ae=()=>[xe,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ee],breakpoint:[ee],color:[ha],container:[ee],"drop-shadow":[ee],ease:["in","out","in-out"],font:[pa],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ee],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ee],shadow:[ee],spacing:["px",A],text:[ee],"text-shadow":[ee],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",xe,w,j,m]}],container:["container"],columns:[{columns:[A,w,j,c]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[oe,"auto",j,w]}],basis:[{basis:[xe,"full","auto",c,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[A,xe,"auto","initial","none",w]}],grow:[{grow:["",A,j,w]}],shrink:[{shrink:["",A,j,w]}],order:[{order:[oe,"first","last","none",j,w]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ce()}],"auto-rows":[{"auto-rows":Ce()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...we(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...we()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":we()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[c,"screen",...K()]}],"min-w":[{"min-w":[c,"screen","none",...K()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",r,Ne,ce]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,j,Ye]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",qe,w]}],"font-family":[{font:[ya,w,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,j,w]}],"line-clamp":[{"line-clamp":[A,"none",j,Ye]}],leading:[{leading:[n,...S()]}],"list-image":[{"list-image":["none",j,w]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",j,w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:[A,"from-font","auto",j,ce]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[A,"auto",j,w]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",j,w]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",j,w]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:je()}],"bg-repeat":[{bg:he()}],"bg-size":[{bg:_e()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},oe,j,w],radial:["",j,w],conic:[oe,j,w]},ja,va]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:_()}],"gradient-via-pos":[{via:_()}],"gradient-to-pos":[{to:_()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:k()}],"rounded-s":[{"rounded-s":k()}],"rounded-e":[{"rounded-e":k()}],"rounded-t":[{"rounded-t":k()}],"rounded-r":[{"rounded-r":k()}],"rounded-b":[{"rounded-b":k()}],"rounded-l":[{"rounded-l":k()}],"rounded-ss":[{"rounded-ss":k()}],"rounded-se":[{"rounded-se":k()}],"rounded-ee":[{"rounded-ee":k()}],"rounded-es":[{"rounded-es":k()}],"rounded-tl":[{"rounded-tl":k()}],"rounded-tr":[{"rounded-tr":k()}],"rounded-br":[{"rounded-br":k()}],"rounded-bl":[{"rounded-bl":k()}],"border-w":[{border:R()}],"border-w-x":[{"border-x":R()}],"border-w-y":[{"border-y":R()}],"border-w-s":[{"border-s":R()}],"border-w-e":[{"border-e":R()}],"border-w-t":[{"border-t":R()}],"border-w-r":[{"border-r":R()}],"border-w-b":[{"border-b":R()}],"border-w-l":[{"border-l":R()}],"divide-x":[{"divide-x":R()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":R()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...I(),"hidden","none"]}],"divide-style":[{divide:[...I(),"hidden","none"]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:[...I(),"none","hidden"]}],"outline-offset":[{"outline-offset":[A,j,w]}],"outline-w":[{outline:["",A,Ne,ce]}],"outline-color":[{outline:C()}],shadow:[{shadow:["","none",g,Re,De]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":["none",p,Re,De]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[A,ce]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":R()}],"inset-ring-color":[{"inset-ring":C()}],"text-shadow":[{"text-shadow":["none",x,Re,De]}],"text-shadow-color":[{"text-shadow":C()}],opacity:[{opacity:[A,j,w]}],"mix-blend":[{"mix-blend":[...M(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":M()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[A]}],"mask-image-linear-from-pos":[{"mask-linear-from":P()}],"mask-image-linear-to-pos":[{"mask-linear-to":P()}],"mask-image-linear-from-color":[{"mask-linear-from":C()}],"mask-image-linear-to-color":[{"mask-linear-to":C()}],"mask-image-t-from-pos":[{"mask-t-from":P()}],"mask-image-t-to-pos":[{"mask-t-to":P()}],"mask-image-t-from-color":[{"mask-t-from":C()}],"mask-image-t-to-color":[{"mask-t-to":C()}],"mask-image-r-from-pos":[{"mask-r-from":P()}],"mask-image-r-to-pos":[{"mask-r-to":P()}],"mask-image-r-from-color":[{"mask-r-from":C()}],"mask-image-r-to-color":[{"mask-r-to":C()}],"mask-image-b-from-pos":[{"mask-b-from":P()}],"mask-image-b-to-pos":[{"mask-b-to":P()}],"mask-image-b-from-color":[{"mask-b-from":C()}],"mask-image-b-to-color":[{"mask-b-to":C()}],"mask-image-l-from-pos":[{"mask-l-from":P()}],"mask-image-l-to-pos":[{"mask-l-to":P()}],"mask-image-l-from-color":[{"mask-l-from":C()}],"mask-image-l-to-color":[{"mask-l-to":C()}],"mask-image-x-from-pos":[{"mask-x-from":P()}],"mask-image-x-to-pos":[{"mask-x-to":P()}],"mask-image-x-from-color":[{"mask-x-from":C()}],"mask-image-x-to-color":[{"mask-x-to":C()}],"mask-image-y-from-pos":[{"mask-y-from":P()}],"mask-image-y-to-pos":[{"mask-y-to":P()}],"mask-image-y-from-color":[{"mask-y-from":C()}],"mask-image-y-to-color":[{"mask-y-to":C()}],"mask-image-radial":[{"mask-radial":[j,w]}],"mask-image-radial-from-pos":[{"mask-radial-from":P()}],"mask-image-radial-to-pos":[{"mask-radial-to":P()}],"mask-image-radial-from-color":[{"mask-radial-from":C()}],"mask-image-radial-to-color":[{"mask-radial-to":C()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[A]}],"mask-image-conic-from-pos":[{"mask-conic-from":P()}],"mask-image-conic-to-pos":[{"mask-conic-to":P()}],"mask-image-conic-from-color":[{"mask-conic-from":C()}],"mask-image-conic-to-color":[{"mask-conic-to":C()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:je()}],"mask-repeat":[{mask:he()}],"mask-size":[{mask:_e()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",j,w]}],filter:[{filter:["","none",j,w]}],blur:[{blur:H()}],brightness:[{brightness:[A,j,w]}],contrast:[{contrast:[A,j,w]}],"drop-shadow":[{"drop-shadow":["","none",b,Re,De]}],"drop-shadow-color":[{"drop-shadow":C()}],grayscale:[{grayscale:["",A,j,w]}],"hue-rotate":[{"hue-rotate":[A,j,w]}],invert:[{invert:["",A,j,w]}],saturate:[{saturate:[A,j,w]}],sepia:[{sepia:["",A,j,w]}],"backdrop-filter":[{"backdrop-filter":["","none",j,w]}],"backdrop-blur":[{"backdrop-blur":H()}],"backdrop-brightness":[{"backdrop-brightness":[A,j,w]}],"backdrop-contrast":[{"backdrop-contrast":[A,j,w]}],"backdrop-grayscale":[{"backdrop-grayscale":["",A,j,w]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[A,j,w]}],"backdrop-invert":[{"backdrop-invert":["",A,j,w]}],"backdrop-opacity":[{"backdrop-opacity":[A,j,w]}],"backdrop-saturate":[{"backdrop-saturate":[A,j,w]}],"backdrop-sepia":[{"backdrop-sepia":["",A,j,w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",j,w]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[A,"initial",j,w]}],ease:[{ease:["linear","initial",f,j,w]}],delay:[{delay:[A,j,w]}],animate:[{animate:["none",y,j,w]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[d,j,w]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:Z()}],"rotate-x":[{"rotate-x":Z()}],"rotate-y":[{"rotate-y":Z()}],"rotate-z":[{"rotate-z":Z()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:Ge()}],"skew-x":[{"skew-x":Ge()}],"skew-y":[{"skew-y":Ge()}],transform:[{transform:[j,w,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ae()}],"translate-x":[{"translate-x":Ae()}],"translate-y":[{"translate-y":Ae()}],"translate-z":[{"translate-z":Ae()}],"translate-none":["translate-none"],accent:[{accent:C()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",j,w]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",j,w]}],fill:[{fill:["none",...C()]}],"stroke-w":[{stroke:[A,Ne,ce,Ye]}],stroke:[{stroke:["none",...C()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Ca=oa(ka);function T(...t){return Ca(Dt(t))}const at=Ir("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function B({className:t,variant:s,size:r,asChild:a=!1,...o}){const n=a?Pr:"button";return e.jsx(n,{"data-slot":"button",className:T(at({variant:s,size:r,className:t})),...o})}function ot({className:t,type:s,...r}){return e.jsx("input",{type:s,"data-slot":"input",className:T("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}function _a(t,s){return u.useReducer((r,a)=>s[r][a]??r,t)}var nt="ScrollArea",[Gt]=Ze(nt),[Ea,G]=Gt(nt),qt=u.forwardRef((t,s)=>{const{__scopeScrollArea:r,type:a="hover",dir:o,scrollHideDelay:n=600,...l}=t,[c,i]=u.useState(null),[h,g]=u.useState(null),[p,x]=u.useState(null),[b,v]=u.useState(null),[d,m]=u.useState(null),[f,y]=u.useState(0),[E,N]=u.useState(0),[$,L]=u.useState(!1),[z,S]=u.useState(!1),D=J(s,W=>i(W)),F=Ds(o);return e.jsx(Ea,{scope:r,type:a,dir:F,scrollHideDelay:n,scrollArea:c,viewport:h,onViewportChange:g,content:p,onContentChange:x,scrollbarX:b,onScrollbarXChange:v,scrollbarXEnabled:$,onScrollbarXEnabledChange:L,scrollbarY:d,onScrollbarYChange:m,scrollbarYEnabled:z,onScrollbarYEnabledChange:S,onCornerWidthChange:y,onCornerHeightChange:N,children:e.jsx(le.div,{dir:F,...l,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":f+"px","--radix-scroll-area-corner-height":E+"px",...t.style}})})});qt.displayName=nt;var Yt="ScrollAreaViewport",Xt=u.forwardRef((t,s)=>{const{__scopeScrollArea:r,children:a,nonce:o,...n}=t,l=G(Yt,r),c=u.useRef(null),i=J(s,c,l.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(le.div,{"data-radix-scroll-area-viewport":"",...n,ref:i,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});Xt.displayName=Yt;var Q="ScrollAreaScrollbar",Jt=u.forwardRef((t,s)=>{const{forceMount:r,...a}=t,o=G(Q,t.__scopeScrollArea),{onScrollbarXEnabledChange:n,onScrollbarYEnabledChange:l}=o,c=t.orientation==="horizontal";return u.useEffect(()=>(c?n(!0):l(!0),()=>{c?n(!1):l(!1)}),[c,n,l]),o.type==="hover"?e.jsx(Aa,{...a,ref:s,forceMount:r}):o.type==="scroll"?e.jsx(Da,{...a,ref:s,forceMount:r}):o.type==="auto"?e.jsx(Qt,{...a,ref:s,forceMount:r}):o.type==="always"?e.jsx(lt,{...a,ref:s}):null});Jt.displayName=Q;var Aa=u.forwardRef((t,s)=>{const{forceMount:r,...a}=t,o=G(Q,t.__scopeScrollArea),[n,l]=u.useState(!1);return u.useEffect(()=>{const c=o.scrollArea;let i=0;if(c){const h=()=>{window.clearTimeout(i),l(!0)},g=()=>{i=window.setTimeout(()=>l(!1),o.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",g),()=>{window.clearTimeout(i),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",g)}}},[o.scrollArea,o.scrollHideDelay]),e.jsx(Se,{present:r||n,children:e.jsx(Qt,{"data-state":n?"visible":"hidden",...a,ref:s})})}),Da=u.forwardRef((t,s)=>{const{forceMount:r,...a}=t,o=G(Q,t.__scopeScrollArea),n=t.orientation==="horizontal",l=We(()=>i("SCROLL_END"),100),[c,i]=_a("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return u.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>i("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,o.scrollHideDelay,i]),u.useEffect(()=>{const h=o.viewport,g=n?"scrollLeft":"scrollTop";if(h){let p=h[g];const x=()=>{const b=h[g];p!==b&&(i("SCROLL"),l()),p=b};return h.addEventListener("scroll",x),()=>h.removeEventListener("scroll",x)}},[o.viewport,n,i,l]),e.jsx(Se,{present:r||c!=="hidden",children:e.jsx(lt,{"data-state":c==="hidden"?"hidden":"visible",...a,ref:s,onPointerEnter:X(t.onPointerEnter,()=>i("POINTER_ENTER")),onPointerLeave:X(t.onPointerLeave,()=>i("POINTER_LEAVE"))})})}),Qt=u.forwardRef((t,s)=>{const r=G(Q,t.__scopeScrollArea),{forceMount:a,...o}=t,[n,l]=u.useState(!1),c=t.orientation==="horizontal",i=We(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,g=r.viewport.offsetHeight<r.viewport.scrollHeight;l(c?h:g)}},10);return be(r.viewport,i),be(r.content,i),e.jsx(Se,{present:a||n,children:e.jsx(lt,{"data-state":n?"visible":"hidden",...o,ref:s})})}),lt=u.forwardRef((t,s)=>{const{orientation:r="vertical",...a}=t,o=G(Q,t.__scopeScrollArea),n=u.useRef(null),l=u.useRef(0),[c,i]=u.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=ss(c.viewport,c.content),g={...a,sizes:c,onSizesChange:i,hasThumb:h>0&&h<1,onThumbChange:x=>n.current=x,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:x=>l.current=x};function p(x,b){return La(x,l.current,c,b)}return r==="horizontal"?e.jsx(Ra,{...g,ref:s,onThumbPositionChange:()=>{if(o.viewport&&n.current){const x=o.viewport.scrollLeft,b=vt(x,c,o.dir);n.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollLeft=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollLeft=p(x,o.dir))}}):r==="vertical"?e.jsx(Pa,{...g,ref:s,onThumbPositionChange:()=>{if(o.viewport&&n.current){const x=o.viewport.scrollTop,b=vt(x,c);n.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollTop=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollTop=p(x))}}):null}),Ra=u.forwardRef((t,s)=>{const{sizes:r,onSizesChange:a,...o}=t,n=G(Q,t.__scopeScrollArea),[l,c]=u.useState(),i=u.useRef(null),h=J(s,i,n.onScrollbarXChange);return u.useEffect(()=>{i.current&&c(getComputedStyle(i.current))},[i]),e.jsx(Zt,{"data-orientation":"horizontal",...o,ref:h,sizes:r,style:{bottom:0,left:n.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:n.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ue(r)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.x),onDragScroll:g=>t.onDragScroll(g.x),onWheelScroll:(g,p)=>{if(n.viewport){const x=n.viewport.scrollLeft+g.deltaX;t.onWheelScroll(x),as(x,p)&&g.preventDefault()}},onResize:()=>{i.current&&n.viewport&&l&&a({content:n.viewport.scrollWidth,viewport:n.viewport.offsetWidth,scrollbar:{size:i.current.clientWidth,paddingStart:Me(l.paddingLeft),paddingEnd:Me(l.paddingRight)}})}})}),Pa=u.forwardRef((t,s)=>{const{sizes:r,onSizesChange:a,...o}=t,n=G(Q,t.__scopeScrollArea),[l,c]=u.useState(),i=u.useRef(null),h=J(s,i,n.onScrollbarYChange);return u.useEffect(()=>{i.current&&c(getComputedStyle(i.current))},[i]),e.jsx(Zt,{"data-orientation":"vertical",...o,ref:h,sizes:r,style:{top:0,right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ue(r)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.y),onDragScroll:g=>t.onDragScroll(g.y),onWheelScroll:(g,p)=>{if(n.viewport){const x=n.viewport.scrollTop+g.deltaY;t.onWheelScroll(x),as(x,p)&&g.preventDefault()}},onResize:()=>{i.current&&n.viewport&&l&&a({content:n.viewport.scrollHeight,viewport:n.viewport.offsetHeight,scrollbar:{size:i.current.clientHeight,paddingStart:Me(l.paddingTop),paddingEnd:Me(l.paddingBottom)}})}})}),[Ta,Kt]=Gt(Q),Zt=u.forwardRef((t,s)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:o,onThumbChange:n,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:i,onDragScroll:h,onWheelScroll:g,onResize:p,...x}=t,b=G(Q,r),[v,d]=u.useState(null),m=J(s,D=>d(D)),f=u.useRef(null),y=u.useRef(""),E=b.viewport,N=a.content-a.viewport,$=de(g),L=de(i),z=We(p,10);function S(D){if(f.current){const F=D.clientX-f.current.left,W=D.clientY-f.current.top;h({x:F,y:W})}}return u.useEffect(()=>{const D=F=>{const W=F.target;v?.contains(W)&&$(F,N)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[E,v,N,$]),u.useEffect(L,[a,L]),be(v,z),be(b.content,z),e.jsx(Ta,{scope:r,scrollbar:v,hasThumb:o,onThumbChange:de(n),onThumbPointerUp:de(l),onThumbPositionChange:L,onThumbPointerDown:de(c),children:e.jsx(le.div,{...x,ref:m,style:{position:"absolute",...x.style},onPointerDown:X(t.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),f.current=v.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),S(D))}),onPointerMove:X(t.onPointerMove,S),onPointerUp:X(t.onPointerUp,D=>{const F=D.target;F.hasPointerCapture(D.pointerId)&&F.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=y.current,b.viewport&&(b.viewport.style.scrollBehavior=""),f.current=null})})})}),ze="ScrollAreaThumb",es=u.forwardRef((t,s)=>{const{forceMount:r,...a}=t,o=Kt(ze,t.__scopeScrollArea);return e.jsx(Se,{present:r||o.hasThumb,children:e.jsx(za,{ref:s,...a})})}),za=u.forwardRef((t,s)=>{const{__scopeScrollArea:r,style:a,...o}=t,n=G(ze,r),l=Kt(ze,r),{onThumbPositionChange:c}=l,i=J(s,p=>l.onThumbChange(p)),h=u.useRef(void 0),g=We(()=>{h.current&&(h.current(),h.current=void 0)},100);return u.useEffect(()=>{const p=n.viewport;if(p){const x=()=>{if(g(),!h.current){const b=$a(p,c);h.current=b,c()}};return c(),p.addEventListener("scroll",x),()=>p.removeEventListener("scroll",x)}},[n.viewport,g,c]),e.jsx(le.div,{"data-state":l.hasThumb?"visible":"hidden",...o,ref:i,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:X(t.onPointerDownCapture,p=>{const b=p.target.getBoundingClientRect(),v=p.clientX-b.left,d=p.clientY-b.top;l.onThumbPointerDown({x:v,y:d})}),onPointerUp:X(t.onPointerUp,l.onThumbPointerUp)})});es.displayName=ze;var it="ScrollAreaCorner",ts=u.forwardRef((t,s)=>{const r=G(it,t.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?e.jsx(Ma,{...t,ref:s}):null});ts.displayName=it;var Ma=u.forwardRef((t,s)=>{const{__scopeScrollArea:r,...a}=t,o=G(it,r),[n,l]=u.useState(0),[c,i]=u.useState(0),h=!!(n&&c);return be(o.scrollbarX,()=>{const g=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(g),i(g)}),be(o.scrollbarY,()=>{const g=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(g),l(g)}),h?e.jsx(le.div,{...a,ref:s,style:{width:n,height:c,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Me(t){return t?parseInt(t,10):0}function ss(t,s){const r=t/s;return isNaN(r)?0:r}function Ue(t){const s=ss(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=(t.scrollbar.size-r)*s;return Math.max(a,18)}function La(t,s,r,a="ltr"){const o=Ue(r),n=o/2,l=s||n,c=o-l,i=r.scrollbar.paddingStart+l,h=r.scrollbar.size-r.scrollbar.paddingEnd-c,g=r.content-r.viewport,p=a==="ltr"?[0,g]:[g*-1,0];return rs([i,h],p)(t)}function vt(t,s,r="ltr"){const a=Ue(s),o=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,n=s.scrollbar.size-o,l=s.content-s.viewport,c=n-a,i=r==="ltr"?[0,l]:[l*-1,0],h=Ps(t,i);return rs([0,l],[0,c])(h)}function rs(t,s){return r=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const a=(s[1]-s[0])/(t[1]-t[0]);return s[0]+a*(r-t[0])}}function as(t,s){return t>0&&t<s}var $a=(t,s=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},a=0;return(function o(){const n={left:t.scrollLeft,top:t.scrollTop},l=r.left!==n.left,c=r.top!==n.top;(l||c)&&s(),r=n,a=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(a)};function We(t,s){const r=de(t),a=u.useRef(0);return u.useEffect(()=>()=>window.clearTimeout(a.current),[]),u.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,s)},[r,s])}function be(t,s){const r=de(s);Rs(()=>{let a=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return o.observe(t),()=>{window.cancelAnimationFrame(a),o.unobserve(t)}}},[t,r])}var Ia=qt,Oa=Xt,Fa=ts;function os({className:t,children:s,...r}){return e.jsxs(Ia,{"data-slot":"scroll-area",className:T("relative",t),...r,children:[e.jsx(Oa,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:s}),e.jsx(Va,{}),e.jsx(Fa,{})]})}function Va({className:t,orientation:s="vertical",...r}){return e.jsx(Jt,{"data-slot":"scroll-area-scrollbar",orientation:s,className:T("flex touch-none p-px transition-colors select-none",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...r,children:e.jsx(es,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var He="Checkbox",[Ba]=Ze(He),[Ua,ct]=Ba(He);function Wa(t){const{__scopeCheckbox:s,checked:r,children:a,defaultChecked:o,disabled:n,form:l,name:c,onCheckedChange:i,required:h,value:g="on",internal_do_not_use_render:p}=t,[x,b]=Ts({prop:r,defaultProp:o??!1,onChange:i,caller:He}),[v,d]=u.useState(null),[m,f]=u.useState(null),y=u.useRef(!1),E=v?!!l||!!v.closest("form"):!0,N={checked:x,disabled:n,setChecked:b,control:v,setControl:d,name:c,form:l,value:g,hasConsumerStoppedPropagationRef:y,required:h,defaultChecked:ne(o)?!1:o,isFormControl:E,bubbleInput:m,setBubbleInput:f};return e.jsx(Ua,{scope:s,...N,children:Ha(p)?p(N):a})}var ns="CheckboxTrigger",ls=u.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:r,...a},o)=>{const{control:n,value:l,disabled:c,checked:i,required:h,setControl:g,setChecked:p,hasConsumerStoppedPropagationRef:x,isFormControl:b,bubbleInput:v}=ct(ns,t),d=J(o,g),m=u.useRef(i);return u.useEffect(()=>{const f=n?.form;if(f){const y=()=>p(m.current);return f.addEventListener("reset",y),()=>f.removeEventListener("reset",y)}},[n,p]),e.jsx(le.button,{type:"button",role:"checkbox","aria-checked":ne(i)?"mixed":i,"aria-required":h,"data-state":hs(i),"data-disabled":c?"":void 0,disabled:c,value:l,...a,ref:d,onKeyDown:X(s,f=>{f.key==="Enter"&&f.preventDefault()}),onClick:X(r,f=>{p(y=>ne(y)?!0:!y),v&&b&&(x.current=f.isPropagationStopped(),x.current||f.stopPropagation())})})});ls.displayName=ns;var is=u.forwardRef((t,s)=>{const{__scopeCheckbox:r,name:a,checked:o,defaultChecked:n,required:l,disabled:c,value:i,onCheckedChange:h,form:g,...p}=t;return e.jsx(Wa,{__scopeCheckbox:r,checked:o,defaultChecked:n,disabled:c,required:l,onCheckedChange:h,name:a,form:g,value:i,internal_do_not_use_render:({isFormControl:x})=>e.jsxs(e.Fragment,{children:[e.jsx(ls,{...p,ref:s,__scopeCheckbox:r}),x&&e.jsx(us,{__scopeCheckbox:r})]})})});is.displayName=He;var cs="CheckboxIndicator",ds=u.forwardRef((t,s)=>{const{__scopeCheckbox:r,forceMount:a,...o}=t,n=ct(cs,r);return e.jsx(Se,{present:a||ne(n.checked)||n.checked===!0,children:e.jsx(le.span,{"data-state":hs(n.checked),"data-disabled":n.disabled?"":void 0,...o,ref:s,style:{pointerEvents:"none",...t.style}})})});ds.displayName=cs;var ms="CheckboxBubbleInput",us=u.forwardRef(({__scopeCheckbox:t,...s},r)=>{const{control:a,hasConsumerStoppedPropagationRef:o,checked:n,defaultChecked:l,required:c,disabled:i,name:h,value:g,form:p,bubbleInput:x,setBubbleInput:b}=ct(ms,t),v=J(r,b),d=zs(n),m=Ms(a);u.useEffect(()=>{const y=x;if(!y)return;const E=window.HTMLInputElement.prototype,$=Object.getOwnPropertyDescriptor(E,"checked").set,L=!o.current;if(d!==n&&$){const z=new Event("click",{bubbles:L});y.indeterminate=ne(n),$.call(y,ne(n)?!1:n),y.dispatchEvent(z)}},[x,d,n,o]);const f=u.useRef(ne(n)?!1:n);return e.jsx(le.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??f.current,required:c,disabled:i,name:h,value:g,form:p,...s,tabIndex:-1,ref:v,style:{...s.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});us.displayName=ms;function Ha(t){return typeof t=="function"}function ne(t){return t==="indeterminate"}function hs(t){return ne(t)?"indeterminate":t?"checked":"unchecked"}function Le({className:t,...s}){return e.jsx(is,{"data-slot":"checkbox",className:T("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(ds,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(st,{className:"size-3.5"})})})}function Ga({isOpen:t,onClose:s,columns:r=[],sessionId:a,onSuccess:o}){const{filterColumns:n,isLoading:l}=ke(),[c,i]=u.useState(new Set),[h,g]=u.useState("");u.useEffect(()=>{t&&r.length>0&&i(new Set(r))},[t,r]);const p=u.useMemo(()=>{if(!r)return[];if(!h.trim())return r;const m=h.toLowerCase();return r.filter(f=>f.toLowerCase().includes(m))},[r,h]),x=m=>{const f=new Set(c);f.has(m)?f.delete(m):f.add(m),i(f)},b=()=>{const m=p.length>0&&p.every(y=>c.has(y)),f=new Set(c);m?p.forEach(y=>f.delete(y)):p.forEach(y=>f.add(y)),i(f)},v=async()=>{if(c.size===0){alert("Debes mantener al menos una columna");return}const m=await n({session_id:a,columns_to_keep:Array.from(c)});m&&m.success&&o()},d=p.length>0&&p.every(m=>c.has(m));return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[85vh] flex flex-col overflow-hidden m-4",children:[e.jsxs("div",{className:"p-6 pb-4 border-b flex justify-between items-start bg-white",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold text-gray-900",children:[e.jsx(vr,{className:"w-5 h-5 text-teal-600"}),"Gestionar Columnas"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Desmarca las columnas que deseas eliminar de la base de datos."})]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ue,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col p-6 py-4 bg-gray-50/30",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(mt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(ot,{placeholder:"Buscar variable...",value:h,onChange:m=>g(m.target.value),className:"pl-10 bg-white"})]}),e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-white rounded-md border border-gray-200 mb-2 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Le,{checked:d,onCheckedChange:b,id:"select-all"}),e.jsx("label",{htmlFor:"select-all",className:"text-sm font-medium cursor-pointer text-gray-700 select-none",children:d?"Deseleccionar Todo":"Seleccionar Todo"})]}),e.jsxs("span",{className:"text-xs text-gray-500 font-mono bg-gray-100 px-2 py-1 rounded",children:[c.size," / ",r.length," activas"]})]}),e.jsx(os,{className:"flex-1 border rounded-md bg-white",children:e.jsx("div",{className:"p-2 space-y-1",children:p.length>0?p.map(m=>{const f=c.has(m);return e.jsxs("div",{onClick:()=>x(m),className:`flex items-center gap-3 p-2.5 rounded-md transition-all cursor-pointer border select-none ${f?"bg-teal-50 border-teal-100":"hover:bg-gray-50 border-transparent"}`,children:[e.jsx(Le,{checked:f,onCheckedChange:()=>x(m),className:"data-[state=checked]:bg-teal-600 data-[state=checked]:border-teal-600"}),e.jsx("span",{className:`text-sm flex-1 truncate ${f?"font-medium text-teal-900":"text-gray-600"}`,children:m})]},m)}):e.jsxs("div",{className:"text-center py-10 text-gray-400 flex flex-col items-center gap-2",children:[e.jsx(mt,{className:"w-8 h-8 opacity-20"}),e.jsx("p",{children:"No se encontraron columnas"})]})})})]}),e.jsxs("div",{className:"p-6 pt-4 border-t bg-gray-50 flex justify-end gap-3",children:[e.jsx(B,{variant:"outline",onClick:s,disabled:l,children:"Cancelar"}),e.jsx(B,{onClick:v,disabled:l||c.size===0,className:"bg-teal-600 hover:bg-teal-700 text-white min-w-[140px] shadow-sm",children:l?"Aplicando...":"Guardar Cambios"})]})]})}):null}function qa({isOpen:t,onClose:s,sessionId:r,onSuccess:a}){const{checkEmptyRows:o,deleteRows:n}=ke(),[l,c]=u.useState(null),[i,h]=u.useState(!1),[g,p]=u.useState(!1);u.useEffect(()=>{t&&r?x():c(null)},[t,r]);const x=async()=>{h(!0);const v=await o(r);c(v),h(!1)},b=async()=>{if(!l||l.total_empty===0)return;p(!0);const v=await n({session_id:r,row_indices:l.empty_row_indices});p(!1),v&&v.success&&(a(),s())};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[85vh] flex flex-col overflow-hidden m-4",children:[e.jsxs("div",{className:"p-6 pb-4 border-b flex justify-between items-start bg-white",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(Qe,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Detectar Filas Vacías"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Revisa y elimina filas completamente vacías"})]})]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ue,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-hidden flex flex-col p-6 bg-gray-50/30",children:i?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(se,{className:"w-8 h-8 animate-spin text-teal-600 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Analizando dataset..."})]})}):l?e.jsx(e.Fragment,{children:l.total_empty===0?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"¡Dataset Limpio!"}),e.jsx("p",{className:"text-sm text-gray-600",children:"No se detectaron filas completamente vacías en tu dataset."})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 p-4 bg-amber-50 border border-amber-200 rounded-md flex gap-3",children:[e.jsx(me,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-amber-900 mb-1",children:["Se detectaron ",l.total_empty," fila",l.total_empty!==1?"s":""," vacía",l.total_empty!==1?"s":""]}),e.jsx("p",{className:"text-sm text-amber-700",children:"Revisa la lista abajo antes de confirmar la eliminación. Todas las columnas están vacías en estas filas."})]})]}),e.jsxs("div",{className:"flex-1 overflow-hidden",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Vista previa (hasta 10 filas):"}),e.jsx(os,{className:"h-full border rounded-md bg-white",children:e.jsx("div",{className:"p-3",children:l.preview.length>0?e.jsx("div",{className:"space-y-2",children:l.preview.map((v,d)=>{const m=v.__row_index__??d;return e.jsxs("div",{className:"p-3 border border-red-100 bg-red-50/50 rounded-md",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:"px-2 py-0.5 bg-red-600 text-white text-xs font-mono rounded",children:["Fila ",m]}),e.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Todas las columnas vacías"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2 text-xs",children:Object.entries(v).filter(([f])=>f!=="__row_index__").slice(0,6).map(([f,y])=>e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("span",{className:"font-mono text-gray-500",children:[f,":"]}),e.jsx("span",{className:"text-gray-400 italic",children:"null"})]},f))})]},d)})}):e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No hay vista previa disponible"})})})]})]})}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"Error al detectar filas vacías"})})}),e.jsxs("div",{className:"p-6 pt-4 border-t bg-gray-50 flex justify-end gap-3",children:[e.jsx(B,{variant:"outline",onClick:s,disabled:g,children:l?.total_empty===0?"Cerrar":"Cancelar"}),l&&l.total_empty>0&&e.jsx(B,{onClick:b,disabled:g,className:"bg-red-600 hover:bg-red-700 text-white min-w-[160px]",children:g?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"w-4 h-4 mr-2 animate-spin"}),"Eliminando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-4 h-4 mr-2"}),"Eliminar ",l.total_empty," Fila",l.total_empty!==1?"s":""]})})]})]})}):null}function $e({...t}){return e.jsx(Ls,{"data-slot":"select",...t})}function Ie({...t}){return e.jsx(Os,{"data-slot":"select-value",...t})}function Oe({className:t,size:s="default",children:r,...a}){return e.jsxs($s,{"data-slot":"select-trigger","data-size":s,className:T("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a,children:[r,e.jsx(Is,{asChild:!0,children:e.jsx(tt,{className:"size-4 opacity-50"})})]})}function Fe({className:t,children:s,position:r="popper",...a}){return e.jsx(Fs,{children:e.jsxs(Vs,{"data-slot":"select-content",className:T("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...a,children:[e.jsx(Ya,{}),e.jsx(Bs,{className:T("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),e.jsx(Xa,{})]})})}function U({className:t,children:s,...r}){return e.jsxs(Us,{"data-slot":"select-item",className:T("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Ws,{children:e.jsx(st,{className:"size-4"})})}),e.jsx(Hs,{children:s})]})}function Ya({className:t,...s}){return e.jsx(Gs,{"data-slot":"select-scroll-up-button",className:T("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Rt,{className:"size-4"})})}function Xa({className:t,...s}){return e.jsx(qs,{"data-slot":"select-scroll-down-button",className:T("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(tt,{className:"size-4"})})}var Ja=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qa=Ja.reduce((t,s)=>{const r=Tt(`Primitive.${s}`),a=u.forwardRef((o,n)=>{const{asChild:l,...c}=o,i=l?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(i,{...c,ref:n})});return a.displayName=`Primitive.${s}`,{...t,[s]:a}},{}),Ka="Label",xs=u.forwardRef((t,s)=>e.jsx(Qa.label,{...t,ref:s,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));xs.displayName=Ka;var Za=xs;function ge({className:t,...s}){return e.jsx(Za,{"data-slot":"label",className:T("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}var eo=Symbol("radix.slottable");function to(t){const s=({children:r})=>e.jsx(e.Fragment,{children:r});return s.displayName=`${t}.Slottable`,s.__radixId=eo,s}var gs="AlertDialog",[so]=Ze(gs,[yt]),re=yt(),fs=t=>{const{__scopeAlertDialog:s,...r}=t,a=re(s);return e.jsx(wt,{...a,...r,modal:!0})};fs.displayName=gs;var ro="AlertDialogTrigger",ao=u.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,o=re(r);return e.jsx(Xs,{...o,...a,ref:s})});ao.displayName=ro;var oo="AlertDialogPortal",ps=t=>{const{__scopeAlertDialog:s,...r}=t,a=re(s);return e.jsx(kt,{...a,...r})};ps.displayName=oo;var no="AlertDialogOverlay",bs=u.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,o=re(r);return e.jsx(Ct,{...o,...a,ref:s})});bs.displayName=no;var fe="AlertDialogContent",[lo,io]=so(fe),co=to("AlertDialogContent"),vs=u.forwardRef((t,s)=>{const{__scopeAlertDialog:r,children:a,...o}=t,n=re(r),l=u.useRef(null),c=J(s,l),i=u.useRef(null);return e.jsx(Ys,{contentName:fe,titleName:ys,docsSlug:"alert-dialog",children:e.jsx(lo,{scope:r,cancelRef:i,children:e.jsxs(jt,{role:"alertdialog",...n,...o,ref:c,onOpenAutoFocus:X(o.onOpenAutoFocus,h=>{h.preventDefault(),i.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[e.jsx(co,{children:a}),e.jsx(uo,{contentRef:l})]})})})});vs.displayName=fe;var ys="AlertDialogTitle",ws=u.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,o=re(r);return e.jsx(Nt,{...o,...a,ref:s})});ws.displayName=ys;var js="AlertDialogDescription",Ns=u.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,o=re(r);return e.jsx(St,{...o,...a,ref:s})});Ns.displayName=js;var mo="AlertDialogAction",Ss=u.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,o=re(r);return e.jsx(et,{...o,...a,ref:s})});Ss.displayName=mo;var ks="AlertDialogCancel",Cs=u.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,{cancelRef:o}=io(ks,r),n=re(r),l=J(s,o);return e.jsx(et,{...n,...a,ref:l})});Cs.displayName=ks;var uo=({contentRef:t})=>{const s=`\`${fe}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${fe}\` by passing a \`${js}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${fe}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},ho=fs,xo=ps,go=bs,fo=vs,po=Ss,bo=Cs,vo=ws,yo=Ns;function wo({...t}){return e.jsx(ho,{"data-slot":"alert-dialog",...t})}function jo({...t}){return e.jsx(xo,{"data-slot":"alert-dialog-portal",...t})}function No({className:t,...s}){return e.jsx(go,{"data-slot":"alert-dialog-overlay",className:T("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function So({className:t,...s}){return e.jsxs(jo,{children:[e.jsx(No,{}),e.jsx(fo,{"data-slot":"alert-dialog-content",className:T("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...s})]})}function ko({className:t,...s}){return e.jsx("div",{"data-slot":"alert-dialog-header",className:T("flex flex-col gap-2 text-center sm:text-left",t),...s})}function Co({className:t,...s}){return e.jsx("div",{"data-slot":"alert-dialog-footer",className:T("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function _o({className:t,...s}){return e.jsx(vo,{"data-slot":"alert-dialog-title",className:T("text-lg font-semibold",t),...s})}function Eo({className:t,...s}){return e.jsx(yo,{"data-slot":"alert-dialog-description",className:T("text-muted-foreground text-sm",t),...s})}function Ao({className:t,...s}){return e.jsx(po,{className:T(at(),t),...s})}function Do({className:t,...s}){return e.jsx(bo,{className:T(at({variant:"outline"}),t),...s})}const Ro="http://localhost:8000",_s=`${Ro}/api/v1`;function Po({sessionId:t,onDiagnosticToggle:s,showDiagnostic:r,onCleaningComplete:a,selectedCount:o=0,onDelete:n,onUndo:l,onReset:c}){const{columns:i,filename:h}=Ve(),{downloadDataset:g,downloadAuditReport:p,isLoading:x}=ke(),[b,v]=u.useState(!1),[d,m]=u.useState(!1),[f,y]=u.useState(!1),[E,N]=u.useState(!1),[$,L]=u.useState(!1),z=async()=>{await g(t,h||"dataset")&&console.log("Dataset downloaded successfully")},S=async()=>{await p(t)&&console.log("Audit report downloaded successfully")};return e.jsxs("div",{className:"border-b border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("div",{className:"flex items-center gap-2",children:c&&e.jsxs("button",{onClick:c,className:"px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors flex items-center gap-2 text-sm text-gray-600",title:"Cargar otro archivo o seleccionar otra hoja",children:[e.jsx(fr,{className:"w-4 h-4"}),"📂 Cambiar Archivo/Hoja"]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:s,className:`px-4 py-2 rounded-md transition-all flex items-center gap-2 text-sm font-medium ${r?"bg-teal-600 text-white shadow-md":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(Je,{className:"w-4 h-4"}),r?"Ocultar Diagnóstico":"Ver Diagnóstico"]}),l&&e.jsxs("button",{onClick:l,className:"px-4 py-2 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors flex items-center gap-2 text-sm text-gray-700",title:"Deshacer último cambio",children:[e.jsx(Nr,{className:"w-4 h-4"}),"Deshacer"]}),e.jsxs("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors flex items-center gap-2 text-sm text-gray-700",title:"Gestionar columnas del dataset",children:[e.jsx(ir,{className:"w-4 h-4"}),"Gestionar Columnas"]}),e.jsxs("button",{onClick:()=>L(!0),className:"px-4 py-2 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors flex items-center gap-2 text-sm text-gray-700",title:"Detectar y eliminar filas vacías",children:[e.jsx(Qe,{className:"w-4 h-4"}),"Filas Vacías"]}),e.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(mr,{className:"w-4 h-4"}),"Limpiar Nulos"]}),e.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(Be,{className:"w-4 h-4"}),"Eliminar Duplicados"]}),o>0&&n&&e.jsxs("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-red-50 border border-red-200 text-red-700 rounded-md hover:bg-red-100 transition-colors flex items-center gap-2 text-sm font-medium animate-in fade-in",children:[e.jsx(Ks,{className:"w-4 h-4"}),"Eliminar (",o,")"]}),e.jsx("button",{onClick:z,disabled:x,className:`px-5 py-2.5 rounded-md transition-all flex items-center gap-2 text-sm font-semibold shadow-sm ${x?"bg-teal-400 text-white cursor-not-allowed":"bg-teal-600 text-white hover:bg-teal-700 hover:shadow-md"}`,title:"Descargar dataset limpio en formato Excel",children:x?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"w-4 h-4 animate-spin"}),"Generando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"w-4 h-4"}),"📥 Descargar Excel Final"]})}),e.jsxs("button",{onClick:S,disabled:x,className:`px-4 py-2 rounded-md transition-colors flex items-center gap-2 text-sm font-medium border ${x?"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,title:"Descargar reporte de auditoría con histórico de cambios",children:[e.jsx(xr,{className:"w-4 h-4"}),"📄 Reporte de Auditoría"]})]})]}),e.jsx(Ga,{isOpen:E,onClose:()=>N(!1),columns:i,sessionId:t,onSuccess:()=>{N(!1),a()}}),e.jsx(qa,{isOpen:$,onClose:()=>L(!1),sessionId:t,onSuccess:()=>{L(!1),a()}}),b&&e.jsx(To,{sessionId:t,onClose:()=>v(!1),onSuccess:()=>{v(!1),a()}}),d&&e.jsx(zo,{sessionId:t,onClose:()=>m(!1),onSuccess:()=>{m(!1),a()}}),e.jsx(wo,{open:f,onOpenChange:y,children:e.jsxs(So,{children:[e.jsxs(ko,{children:[e.jsx(_o,{children:"¿Estás seguro?"}),e.jsx(Eo,{children:"¿Estás seguro de eliminar estas filas? La acción no se puede deshacer."})]}),e.jsxs(Co,{children:[e.jsx(Do,{children:"Cancelar"}),e.jsx(Ao,{onClick:()=>{y(!1),n&&n()},className:"bg-red-600 hover:bg-red-700 text-white",children:"Eliminar Filas"})]})]})})]})}function To({sessionId:t,onClose:s,onSuccess:r}){const{healthReport:a}=Ve(),[o,n]=u.useState(""),[l,c]=u.useState("mean"),[i,h]=u.useState(!1),g=a?Object.values(a.columns).filter(x=>x.missing_count>0):[],p=async()=>{if(!o){alert("Por favor selecciona una columna");return}h(!0);try{const x=await fetch(`${_s}/cleaning/nulls`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:t,column:o,method:l})});if(x.ok)r();else{const b=await x.json();alert(b.message||"Error al limpiar nulos")}}catch{alert("Error de conexión")}finally{h(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Limpiar Valores Nulos"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:e.jsx(ue,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ge,{children:"Columna"}),e.jsxs($e,{value:o,onValueChange:n,children:[e.jsx(Oe,{children:e.jsx(Ie,{placeholder:"Selecciona una columna"})}),e.jsx(Fe,{children:g.length>0?g.map(x=>e.jsxs(U,{value:x.column_name,children:[x.column_name," (",x.missing_count," nulos)"]},x.column_name)):e.jsx("div",{className:"p-2 text-sm text-gray-500 text-center",children:"No hay columnas con valores nulos"})})]}),g.length===0&&e.jsx("p",{className:"text-xs text-green-600",children:"¡Tus datos están completos! No se encontraron valores nulos."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ge,{children:"Método"}),e.jsxs($e,{value:l,onValueChange:x=>c(x),children:[e.jsx(Oe,{children:e.jsx(Ie,{placeholder:"Selecciona método"})}),e.jsxs(Fe,{children:[e.jsx(U,{value:"mean",children:"Media (numérico)"}),e.jsx(U,{value:"median",children:"Mediana (numérico)"}),e.jsx(U,{value:"mode",children:"Moda (más frecuente)"}),e.jsx(U,{value:"drop",children:"Eliminar filas"})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[e.jsx(B,{variant:"outline",onClick:s,className:"flex-1",children:"Cancelar"}),e.jsxs(B,{onClick:p,disabled:i||!o,className:"flex-1 bg-teal-600 hover:bg-teal-700 text-white",children:[i?e.jsx(se,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Aplicar"]})]})]})})}function zo({sessionId:t,onClose:s,onSuccess:r}){const[a,o]=u.useState(!1),n=async()=>{o(!0);try{const l=await fetch(`${_s}/cleaning/duplicates`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:t,keep:"first"})});if(l.ok){const c=await l.json();alert(`¡Éxito! Se eliminaron ${c.duplicates_removed} filas duplicadas`),r()}else{const c=await l.json();alert(c.message||"Error al eliminar duplicados")}}catch{alert("Error de conexión")}finally{o(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Eliminar Duplicados"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:e.jsx(ue,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Se eliminarán todas las filas duplicadas del dataset, manteniendo la primera ocurrencia."}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(B,{variant:"outline",onClick:s,className:"flex-1",children:"Cancelar"}),e.jsxs(B,{onClick:n,disabled:a,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:[a?e.jsx(se,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Confirmar"]})]})]})})}function Mo({column:t}){const r={critical:{bg:"bg-red-50",border:"border-red-300",badge:"bg-red-600",text:"text-red-700",icon:pe,label:"Crítico"},warning:{bg:"bg-amber-50",border:"border-amber-300",badge:"bg-amber-500",text:"text-amber-700",icon:me,label:"Advertencia"},info:{bg:"bg-blue-50",border:"border-blue-300",badge:"bg-blue-500",text:"text-blue-700",icon:At,label:"Info"},ok:{bg:"bg-green-50",border:"border-green-300",badge:"bg-green-600",text:"text-green-700",icon:nr,label:"OK"}}[t.status],a=r.icon;return e.jsxs("div",{className:`rounded-lg border-2 ${r.border} ${r.bg} p-4 transition-all hover:shadow-md`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:t.column_name}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:t.data_type})]}),e.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-full ${r.badge} text-white text-xs font-medium`,children:[e.jsx(a,{className:"w-3 h-3"}),e.jsx("span",{children:r.label})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-1",children:[e.jsx("span",{children:"Completitud"}),e.jsxs("span",{className:"font-medium",children:[t.completeness.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${t.completeness>=90?"bg-green-500":t.completeness>=70?"bg-amber-500":"bg-red-500"}`,style:{width:`${t.completeness}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3 text-xs",children:[e.jsxs("div",{className:"bg-white/60 rounded px-2 py-1.5",children:[e.jsx("div",{className:"text-gray-500",children:"Únicos"}),e.jsx("div",{className:"font-medium text-gray-900",children:t.unique_count.toLocaleString()})]}),e.jsxs("div",{className:"bg-white/60 rounded px-2 py-1.5",children:[e.jsx("div",{className:"text-gray-500",children:"Nulos"}),e.jsx("div",{className:"font-medium text-red-600",children:t.missing_count.toLocaleString()})]})]}),t.min_value!==null&&t.min_value!==void 0&&e.jsxs("div",{className:"bg-white/60 rounded px-2 py-1.5 mb-2 text-xs",children:[e.jsx("div",{className:"text-gray-500 mb-0.5",children:"Rango"}),e.jsxs("div",{className:"font-medium text-gray-900",children:[t.min_value.toFixed(2)," → ",t.max_value?.toFixed(2)]})]}),t.outlier_count>0&&e.jsxs("div",{className:`flex items-center gap-1.5 text-xs ${r.text} mb-2`,children:[e.jsx(me,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:[t.outlier_count," outliers detectados"]})]}),t.inconsistency_count>0&&e.jsxs("div",{className:`flex items-center gap-1.5 text-xs ${r.text} mb-2`,children:[e.jsx(pe,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:[t.inconsistency_count," inconsistencias de tipo"]})]}),e.jsx("div",{className:"pt-2 border-t border-gray-200",children:e.jsxs("p",{className:`text-xs ${r.text} font-medium`,children:["💡 ",t.suggestion]})})]})}function Lo({report:t}){const[s,r]=u.useState(!0),a=u.useMemo(()=>Object.values(t.columns),[t.columns]),n=(l=>l>=90?"text-green-600 bg-green-50 border-green-200":l>=70?"text-amber-600 bg-amber-50 border-amber-200":"text-red-600 bg-red-50 border-red-200")(t.overall_completeness);return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-4",children:[e.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-lg flex items-center justify-center",children:e.jsx(Je,{className:"w-5 h-5 text-teal-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Diagnóstico de Salud del Dataset"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Análisis inteligente de calidad de datos"})]})]}),e.jsxs("button",{onClick:()=>r(!s),className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-md transition-colors",children:[s?"Contraer":"Expandir",s?e.jsx(Rt,{className:"w-4 h-4"}):e.jsx(tt,{className:"w-4 h-4"})]})]})}),s&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(_t,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Total Registros"})]}),e.jsx("div",{className:"text-3xl font-bold text-blue-900",children:t.total_rows.toLocaleString()}),e.jsxs("div",{className:"text-xs text-blue-700 mt-1",children:[t.total_columns," columnas"]})]}),e.jsxs("div",{className:`border-2 rounded-lg p-4 ${n}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Je,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Salud Global"})]}),e.jsxs("div",{className:"text-3xl font-bold",children:[t.overall_completeness.toFixed(1),"%"]}),e.jsx("div",{className:"w-full bg-white/50 rounded-full h-2 mt-2",children:e.jsx("div",{className:`h-2 rounded-full ${t.overall_completeness>=90?"bg-green-600":t.overall_completeness>=70?"bg-amber-600":"bg-red-600"}`,style:{width:`${t.overall_completeness}%`}})})]}),e.jsxs("div",{className:`border-2 rounded-lg p-4 ${t.total_anomalies>0?"bg-red-50 border-red-200 text-red-900":"bg-green-50 border-green-200 text-green-900"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(me,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Anomalías"})]}),e.jsx("div",{className:"text-3xl font-bold",children:t.total_anomalies.toLocaleString()}),e.jsx("div",{className:"text-xs mt-1",children:t.total_anomalies>0?"Outliers (IQR)":"Sin outliers"})]}),e.jsxs("div",{className:`border-2 rounded-lg p-4 ${t.duplicate_rows+t.total_inconsistencies>0?"bg-amber-50 border-amber-200 text-amber-900":"bg-green-50 border-green-200 text-green-900"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Be,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Problemas"})]}),e.jsx("div",{className:"text-3xl font-bold",children:(t.duplicate_rows+t.total_inconsistencies).toLocaleString()}),e.jsxs("div",{className:"text-xs mt-1",children:[t.duplicate_rows," duplicados, ",t.total_inconsistencies," inconsistencias"]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-1 h-4 bg-teal-600 rounded"}),"Análisis por Columna (",a.length," columnas)"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:a.map(l=>e.jsx(Mo,{column:l},l.column_name))})]})]})]})}function $o({...t}){return e.jsx(wt,{"data-slot":"dialog",...t})}function Io({...t}){return e.jsx(kt,{"data-slot":"dialog-portal",...t})}function Oo({className:t,...s}){return e.jsx(Ct,{"data-slot":"dialog-overlay",className:T("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function Fo({className:t,children:s,...r}){return e.jsxs(Io,{"data-slot":"dialog-portal",children:[e.jsx(Oo,{}),e.jsxs(jt,{"data-slot":"dialog-content",className:T("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[s,e.jsxs(et,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(ue,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Vo({className:t,...s}){return e.jsx("div",{"data-slot":"dialog-header",className:T("flex flex-col gap-2 text-center sm:text-left",t),...s})}function Bo({className:t,...s}){return e.jsx("div",{"data-slot":"dialog-footer",className:T("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function Uo({className:t,...s}){return e.jsx(Nt,{"data-slot":"dialog-title",className:T("text-lg leading-none font-semibold",t),...s})}function Wo({className:t,...s}){return e.jsx(St,{"data-slot":"dialog-description",className:T("text-muted-foreground text-sm",t),...s})}function Ho({isOpen:t,initialValue:s,columnName:r,issueType:a,onSave:o,onClose:n,bounds:l}){const[c,i]=u.useState("");u.useEffect(()=>{i(s==null?"":String(s))},[s,t]);const h=()=>{let x=c;c===""?x=null:!isNaN(Number(c))&&c.trim()!==""&&(x=Number(c)),o(x),n()},p=(()=>{switch(a){case"outlier":return{icon:e.jsx(me,{className:"h-5 w-5 text-orange-500"}),title:"Valor Atípico (Outlier)",description:l?`Este valor está fuera del rango esperado (${l.lower.toFixed(2)} - ${l.upper.toFixed(2)}).`:"Este valor se desvía significativamente de la distribución de la columna.",color:"text-orange-700 bg-orange-50 border-orange-200"};case"null":return{icon:e.jsx(pe,{className:"h-5 w-5 text-red-500"}),title:"Valor Vacío",description:"Esta celda no contiene datos. Los valores nulos pueden afectar los cálculos estadísticos.",color:"text-red-700 bg-red-50 border-red-200"};case"duplicate":return{icon:e.jsx(Be,{className:"h-5 w-5 text-amber-500"}),title:"Fila Duplicada",description:"Esta fila es idéntica a otra en el conjunto de datos. Considere eliminar o modificar los duplicados.",color:"text-amber-700 bg-amber-50 border-amber-200"};default:return{icon:e.jsx(At,{className:"h-5 w-5 text-gray-500"}),title:"Editar Celda",description:"Modifique el valor de esta celda.",color:"text-gray-700 bg-gray-50 border-gray-200"}}})();return e.jsx($o,{open:t,onOpenChange:x=>!x&&n(),children:e.jsxs(Fo,{className:"sm:max-w-[425px]",children:[e.jsxs(Vo,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[p.icon,e.jsx(Uo,{children:p.title})]}),e.jsxs(Wo,{children:["Columna: ",e.jsx("span",{className:"font-medium text-foreground",children:r})]})]}),e.jsx("div",{className:`p-3 rounded-md border text-sm mb-4 ${p.color}`,children:p.description}),e.jsx("div",{className:"grid gap-4 py-2",children:e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(ge,{htmlFor:"cell-value",className:"text-right",children:"Valor"}),e.jsx(ot,{id:"cell-value",value:c,onChange:x=>i(x.target.value),className:"col-span-3",autoFocus:!0})]})}),e.jsxs(Bo,{children:[e.jsx(B,{variant:"outline",onClick:n,children:"Cancelar"}),e.jsx(B,{onClick:h,children:"Guardar Cambios"})]})]})})}function Go({sessionId:t,columnsWithNulls:s,onClose:r,onApply:a}){const{simulateNullCleaning:o,cleanNulls:n,isLoading:l}=ke(),[c,i]=u.useState(""),[h,g]=u.useState("mean"),[p,x]=u.useState(""),[b,v]=u.useState(null),[d,m]=u.useState(null),f=async()=>{if(!c){m("Por favor selecciona una columna");return}m(null);const N=await o({session_id:t,column:c,method:h,fill_value:p||void 0});N?v(N):m("Error al simular la limpieza")},y=async()=>{if(!c)return;await n({session_id:t,column:c,method:h,fill_value:p||void 0})&&(v(null),i(""),x(""),a())},E=h==="constant"||h==="custom_value";return e.jsxs("div",{className:"w-80 border-l border-gray-200 bg-gray-50 flex flex-col h-full",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(dt,{className:"w-5 h-5 text-teal-600"}),"Gestionar Nulos"]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ue,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 space-y-4 flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ge,{className:"text-sm font-medium text-gray-700",children:"Columna"}),e.jsxs($e,{value:c,onValueChange:i,children:[e.jsx(Oe,{className:"bg-white",children:e.jsx(Ie,{placeholder:"Selecciona una columna"})}),e.jsx(Fe,{children:s.length>0?s.map(N=>e.jsxs(U,{value:N.column_name,children:[N.column_name," (",N.missing_count," nulos)"]},N.column_name)):e.jsx("div",{className:"p-2 text-sm text-gray-500 text-center",children:"No hay columnas con valores nulos"})})]}),s.length===0&&e.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[e.jsx(Xe,{className:"w-3 h-3"}),"¡Tus datos están completos!"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ge,{className:"text-sm font-medium text-gray-700",children:"Método de Imputación"}),e.jsxs($e,{value:h,onValueChange:N=>g(N),children:[e.jsx(Oe,{className:"bg-white",children:e.jsx(Ie,{})}),e.jsxs(Fe,{children:[e.jsx(U,{value:"mean",children:"Media (numérico)"}),e.jsx(U,{value:"median",children:"Mediana (numérico)"}),e.jsx(U,{value:"mode",children:"Moda (más frecuente)"}),e.jsx(U,{value:"ffill",children:"Forward Fill (time-series)"}),e.jsx(U,{value:"bfill",children:"Backward Fill (time-series)"}),e.jsx(U,{value:"custom_value",children:"Valor Personalizado"}),e.jsx(U,{value:"date_interpolation",children:"Interpolación (fechas)"}),e.jsx(U,{value:"drop",children:"Eliminar Filas"})]})]})]}),E&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ge,{className:"text-sm font-medium text-gray-700",children:"Valor de Relleno"}),e.jsx(ot,{type:"text",value:p,onChange:N=>x(N.target.value),placeholder:"Ingresa el valor...",className:"bg-white"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Acepta texto, números enteros o decimales"})]}),e.jsx("div",{className:"pt-2",children:e.jsx(B,{onClick:f,disabled:l||!c||E&&!p,className:"w-full bg-blue-600 hover:bg-blue-700 text-white gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"w-4 h-4 animate-spin"}),"Simulando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(dt,{className:"w-4 h-4"}),"🧪 Simular Impacto"]})})}),d&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md text-sm text-red-700",children:d}),b&&e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-900",children:[e.jsx(me,{className:"w-4 h-4 text-amber-500"}),"Impacto Estimado"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Filas afectadas:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:b.rows_affected})]}),b.information_loss_percent>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Pérdida de datos:"}),e.jsxs("span",{className:"font-semibold text-red-600 flex items-center gap-1",children:[e.jsx(wr,{className:"w-3 h-3"}),b.information_loss_percent.toFixed(1),"%"]})]}),b.distribution_change&&e.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Cambio estadístico:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Media:"}),e.jsxs("div",{className:"font-mono",children:[e.jsx("span",{className:"text-gray-400",children:b.distribution_change.mean_before?.toFixed(2)})," → ",e.jsx("span",{className:"text-teal-600 font-semibold",children:b.distribution_change.mean_after?.toFixed(2)})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Desv. Est.:"}),e.jsxs("div",{className:"font-mono",children:[e.jsx("span",{className:"text-gray-400",children:b.distribution_change.std_before?.toFixed(2)})," → ",e.jsx("span",{className:"text-teal-600 font-semibold",children:b.distribution_change.std_after?.toFixed(2)})]})]})]})]})]})]}),b.sample_preview.length>0&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:["Vista Previa (primeras ",b.sample_preview.length," filas)"]}),e.jsx("div",{className:"space-y-2",children:b.sample_preview.map((N,$)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-xs",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("span",{className:"text-gray-500",children:["Fila ",N.row_index+1,":"]})}),e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("span",{className:"font-mono text-gray-400 line-through",children:N.value_before===null?"null":String(N.value_before)}),e.jsx("span",{className:"text-gray-400",children:"→"}),e.jsx("span",{className:"font-mono text-teal-600 font-semibold",children:N.value_after===null?"null":String(N.value_after)})]})]},$))})]}),e.jsxs(B,{onClick:y,disabled:l,className:"w-full bg-teal-600 hover:bg-teal-700 text-white gap-2",children:[l?e.jsx(se,{className:"w-4 h-4 animate-spin"}):e.jsx(Xe,{className:"w-4 h-4"}),"✅ Aplicar Limpieza"]})]})]})]})}const te=50;function qo({sessionId:t,onReset:s}){const{data:r,columns:a,totalRows:o,isLoading:n,error:l,refreshData:c,healthReport:i,refreshHealthReport:h,setData:g}=Ve(),{deleteRows:p,undoLastChange:x}=ke(),[b,v]=u.useState("summary"),[d,m]=u.useState(1),[f,y]=u.useState(!1),[E,N]=u.useState(null),[$,L]=u.useState(!1),[z,S]=u.useState(new Set);u.useEffect(()=>{t&&(m(1),v("summary"),c(0,15),h())},[t]),u.useEffect(()=>{if(!t)return;const _=b==="summary"?15:te,k=b==="summary"?0:(d-1)*te;c(k,_),S(new Set)},[b,d,t]),u.useEffect(()=>{i&&(i.overall_completeness<80||i.total_anomalies>0)&&y(!0)},[i]);const D=()=>{const _=b==="summary"?15:te,k=b==="summary"?0:(d-1)*te;c(k,_),h(),S(new Set)},F=u.useMemo(()=>new Set(i?.duplicate_rows_indices||[]),[i?.duplicate_rows_indices]),W=u.useCallback((_,k,R)=>{if(_==null||_==="")return{type:"null",colorClass:"bg-red-50 hover:bg-red-100/50",icon:e.jsx(pe,{className:"w-3 h-3 text-red-400 absolute top-1 right-1"})};if(!i)return{type:"normal",colorClass:""};if(F.has(k))return{type:"duplicate",colorClass:"bg-amber-50 hover:bg-amber-100/50",icon:e.jsx(Be,{className:"w-3 h-3 text-amber-400 absolute top-1 right-1"})};const I=i.columns[R];if(I&&I.outlier_bounds){const M=Number(_);if(!isNaN(M)){const{lower:P,upper:H}=I.outlier_bounds;if(M<P||M>H)return{type:"outlier",colorClass:"bg-orange-50 hover:bg-orange-100/50",icon:e.jsx(me,{className:"w-3 h-3 text-orange-400 absolute top-1 right-1"}),bounds:{lower:P,upper:H}}}}return{type:"normal",colorClass:""}},[i,F]),ie=(_,k,R)=>{const I=b==="summary"?k:(d-1)*te+k,M=W(_[R],I,R);N({rowIndex:k,columnName:R,value:_[R],issueType:M.type,bounds:M.bounds})},Ce=_=>{if(!E)return;const k=[...r];k[E.rowIndex]&&(k[E.rowIndex]={...k[E.rowIndex],[E.columnName]:_},g(k))},we=_=>{const k=new Set(z);k.has(_)?k.delete(_):k.add(_),S(k)},ae=()=>{const _=new Set(z),k=b==="summary"?0:(d-1)*te;r.every((I,M)=>_.has(k+M))?r.forEach((I,M)=>_.delete(k+M)):r.forEach((I,M)=>_.add(k+M)),S(_)},q=async()=>{if(z.size===0)return;const _=Array.from(z),k=await p({session_id:t,row_indices:_});k&&k.success&&D()},K=async()=>{await x(t)&&D()},C=u.useMemo(()=>i?Object.values(i.columns).filter(_=>_.missing_count>0):[],[i]),je=u.useMemo(()=>{if(b==="full"||!i)return a;const _=Object.keys(i.columns).filter(I=>{const M=i.columns[I];return M.outlier_count>0||M.inconsistency_count>0||M.missing_count>0}),k=a.slice(0,5),R=Array.from(new Set([...k,..._]));return a.filter(I=>R.includes(I))},[a,b,i]),he=Math.ceil(o/te),_e=r.length>0&&r.every((_,k)=>{const R=b==="summary"?k:(d-1)*te+k;return z.has(R)});return n&&r.length===0?e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 flex items-center justify-center h-64",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(se,{className:"w-8 h-8 text-teal-600 animate-spin"}),e.jsx("p",{className:"text-gray-600",children:"Cargando datos..."})]})}):l?e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 flex items-center justify-center h-64",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-md text-center",children:[e.jsx(pe,{className:"w-8 h-8 text-red-600"}),e.jsx("p",{className:"text-red-600 font-medium",children:l}),e.jsx(B,{variant:"outline",onClick:()=>c(),children:"Reintentar"})]})}):e.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[f&&i&&e.jsx(Lo,{report:i}),e.jsxs("div",{className:"flex h-full gap-0",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 flex flex-col shadow-sm flex-1 overflow-hidden",children:[e.jsx(Po,{sessionId:t,onDiagnosticToggle:()=>y(!f),showDiagnostic:f,onCleaningComplete:D,selectedCount:z.size,onDelete:q,onUndo:K,onReset:s}),e.jsxs("div",{className:"border-b border-gray-200 px-4 py-2 bg-gray-50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{children:["Filas: ",e.jsx("strong",{className:"text-gray-900",children:o.toLocaleString()})]}),e.jsxs("span",{children:["Cols: ",e.jsx("strong",{className:"text-gray-900",children:a.length})]}),i&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-400"}),"Outliers: ",e.jsx("strong",{children:i.total_anomalies})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400"}),"Duplicados: ",e.jsx("strong",{children:i.duplicate_rows})]})]}),z.size>0&&e.jsxs("span",{className:"ml-4 px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full font-medium",children:[z.size," seleccionada(s)"]})]}),b==="full"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Página ",d," de ",he||1]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(B,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>m(_=>Math.max(1,_-1)),disabled:d===1||n,children:e.jsx(rr,{className:"h-4 w-4"})}),e.jsx(B,{variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>m(_=>Math.min(he,_+1)),disabled:d>=he||n,children:e.jsx(Qs,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-auto relative",children:[n&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-10 flex items-center justify-center",children:e.jsx(se,{className:"w-8 h-8 text-teal-600 animate-spin"})}),e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10 shadow-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 border-b border-r border-gray-200 w-10 text-center bg-gray-50",children:e.jsx(Le,{checked:_e,onCheckedChange:ae})}),e.jsx("th",{className:"px-3 py-2 border-b border-r border-gray-200 w-10 text-center bg-gray-50 text-gray-400 font-normal",children:"#"}),je.map(_=>e.jsx("th",{className:"text-left px-3 py-2 text-xs font-semibold text-gray-600 border-b border-r border-gray-200 whitespace-nowrap bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-1",children:[_,i?.columns[_]?.status==="warning"&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-500"})]})},_))]})}),e.jsx("tbody",{className:"bg-white",children:r.map((_,k)=>{const R=b==="summary"?k:(d-1)*te+k,I=i?.duplicate_rows_indices.includes(R),M=z.has(R);return e.jsxs("tr",{className:`group ${M?"bg-blue-50":""}`,children:[e.jsx("td",{className:"px-3 py-2 border-b border-r border-gray-100 text-center bg-gray-50/30",children:e.jsx(Le,{checked:M,onCheckedChange:()=>we(R)})}),e.jsx("td",{className:"px-3 py-2 border-b border-r border-gray-100 text-xs text-center text-gray-400 bg-gray-50/50",children:R+1}),je.map(P=>{const H=_[P],Z=W(H,R,P);return e.jsxs("td",{onClick:()=>ie(_,k,P),className:`
                             px-3 py-2 border-b border-r border-gray-100 relative cursor-pointer transition-colors
                             text-gray-700 font-mono text-xs
                             ${Z.colorClass}
                             ${!Z.colorClass&&!M&&"hover:bg-blue-50/50"}
                             ${!Z.colorClass&&I&&!M?"bg-amber-50/30":""}
                          `,children:[e.jsx("span",{className:"block truncate max-w-[200px]",title:String(H),children:H==null||H===""?e.jsx("span",{className:"text-gray-300 italic",children:"null"}):String(H)}),Z.icon]},P)})]},k)})})]}),r.length===0&&!n&&e.jsx("div",{className:"flex flex-col items-center justify-center h-40 text-gray-500",children:e.jsx("p",{children:"No se encontraron datos para mostrar."})})]}),b==="summary"&&o>15&&e.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50 flex flex-col items-center justify-center gap-2",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:["Mostrando vista previa de 15 filas. El conjunto de datos completo tiene ",o," filas."]}),e.jsxs(B,{onClick:()=>{v("full"),m(1)},className:"bg-teal-600 hover:bg-teal-700 text-white gap-2",children:[e.jsx(Js,{className:"w-4 h-4"}),"Explorar y Limpiar Datos Completos"]})]})]}),$&&e.jsx(Go,{sessionId:t,columnsWithNulls:C,onClose:()=>L(!1),onApply:()=>{L(!1),D()}})]}),E&&e.jsx(Ho,{isOpen:!0,initialValue:E.value,columnName:E.columnName,issueType:E.issueType,bounds:E.bounds,onClose:()=>N(null),onSave:Ce})]})}function Yo(){return e.jsxs("div",{className:"h-12 bg-white border-t border-gray-200 px-6 flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-6 text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"Filas:"}),e.jsx("span",{className:"text-gray-900",children:"150"})]}),e.jsx("div",{className:"w-px h-4 bg-gray-300"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"Columnas:"}),e.jsx("span",{className:"text-gray-900",children:"12"})]}),e.jsx("div",{className:"w-px h-4 bg-gray-300"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"Estado:"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Xe,{className:"w-4 h-4 text-teal-600"}),e.jsx("span",{className:"text-teal-700",children:"Listo"})]})]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Última modificación: Hoy, 14:32"})]})}const Xo="http://localhost:8000",Jo=`${Xo}/api/v1`;function Qo({sheets:t,filename:s,tempId:r,onConfirm:a,onCancel:o}){const[n,l]=u.useState(()=>{const m=t.find(f=>f.is_suggested);return m?[m.sheet_name]:[]}),[c,i]=u.useState(!1),[h,g]=u.useState(!1),[p,x]=u.useState(null),b=u.useRef(!1),v=m=>{l(f=>f.includes(m)?f.filter(y=>y!==m):[...f,m])},d=async()=>{if(b.current){console.log("[SheetSelectionModal] Duplicate submission blocked");return}if(b.current=!0,n.length===0){x("Debes seleccionar al menos una pestaña"),b.current=!1;return}g(!0),x(null);try{console.log("[SheetSelectionModal] Submitting sheet selection:",{temp_id:r,selected_sheets:n,merge:c&&n.length>1});const m=await fetch(`${Jo}/upload/select-sheets`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({temp_id:r,selected_sheets:n,merge:c&&n.length>1})});if(!m.ok){const y=await m.json();throw new Error(y.detail||y.message||"Error al procesar las pestañas")}const f=await m.json();if(console.log("[SheetSelectionModal] Sheet selection successful:",f),f.session_id){const y=f.metadata?.column_names||[];a(f.session_id,y)}else throw new Error("No se recibió session_id del servidor")}catch(m){b.current=!1;const f=m instanceof Error?m.message:"Error desconocido";x(f),console.error("[SheetSelectionModal] Sheet selection error:",m)}finally{g(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"border-b border-gray-200 p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Seleccionar Pestañas"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["El archivo ",e.jsx("strong",{children:s})," contiene ",t.length," pestañas. Selecciona las que deseas importar."]})]}),e.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:h,children:e.jsx(ue,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:t.map(m=>{const f=n.includes(m.sheet_name);return e.jsxs("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${f?"border-teal-500 bg-teal-50":"border-gray-200 hover:border-gray-300 bg-white"}`,onClick:()=>v(m.sheet_name),children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"w-5 h-5 text-teal-600"}),e.jsx("h3",{className:"font-medium text-gray-900",children:m.sheet_name}),m.is_suggested&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:"Recomendada"})]}),e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${f?"border-teal-500 bg-teal-500":"border-gray-300"}`,children:f&&e.jsx(st,{className:"w-3 h-3 text-white"})})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[e.jsxs("span",{children:[m.rows.toLocaleString()," filas"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[m.columns," columnas"]}),m.missing_count>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsxs("span",{className:"text-amber-600",children:[m.missing_count," nulos"]})]})]}),m.preview_data&&m.preview_data.length>0&&e.jsx("div",{className:"border border-gray-200 rounded overflow-x-auto",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[m.column_names.slice(0,4).map(y=>e.jsx("th",{className:"px-2 py-1.5 text-left text-gray-600 font-medium",children:y},y)),m.column_names.length>4&&e.jsx("th",{className:"px-2 py-1.5 text-left text-gray-400",children:"..."})]})}),e.jsx("tbody",{children:m.preview_data.slice(0,3).map((y,E)=>e.jsxs("tr",{className:"border-t border-gray-100",children:[m.column_names.slice(0,4).map(N=>e.jsx("td",{className:"px-2 py-1.5 text-gray-700",children:y[N]!==null&&y[N]!==void 0?String(y[N]).substring(0,20):e.jsx("span",{className:"text-red-600",children:"NULL"})},N)),m.column_names.length>4&&e.jsx("td",{className:"px-2 py-1.5 text-gray-400",children:"..."})]},E))})]})})]},m.sheet_name)})})}),e.jsxs("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:[n.length>1&&e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"merge",checked:c,onChange:m=>i(m.target.checked),className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("label",{htmlFor:"merge",className:"text-sm text-gray-700 cursor-pointer",children:"Combinar pestañas seleccionadas (concatenar verticalmente)"})]}),p&&e.jsxs("div",{className:"mb-4 flex items-center gap-2 px-4 py-2 bg-red-50 border border-red-200 rounded-md",children:[e.jsx(pe,{className:"w-4 h-4 text-red-600 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-red-700",children:p})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[n.length," pestaña",n.length!==1&&"s"," seleccionada",n.length!==1&&"s"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:o,disabled:h,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancelar"}),e.jsx("button",{onClick:d,disabled:h||n.length===0,className:`px-5 py-2 rounded-md transition-colors text-white ${h||n.length===0?"bg-gray-400 cursor-not-allowed":"bg-teal-600 hover:bg-teal-700"}`,children:h?"Procesando...":"Confirmar Selección"})]})]})]})]})})}function an(){const{sessionId:t,setSessionId:s,setColumns:r}=Ve(),[a,o]=u.useState(!1),[n,l]=u.useState(null),[c,i]=u.useState([]),[h,g]=u.useState(""),p=d=>{d.status==="ready"?(s(d.session_id),d.metadata?.column_names&&(r(d.metadata.column_names),console.log("[DataPreprocessing] Columns saved:",d.metadata.column_names)),console.log("[DataPreprocessing] File uploaded successfully:",d.filename)):d.status==="selection_required"&&(l(d.temp_id),i(d.sheets),g(d.filename),o(!0),console.log(`[DataPreprocessing] File has ${d.total_sheets} sheets, showing selection modal`))},x=(d,m)=>{console.log("[DataPreprocessing] Sheet selection confirmed, session ID:",d),s(d),m&&m.length>0&&(r(m),console.log("[DataPreprocessing] Columns saved from sheet selection:",m)),o(!1),l(null),i([]),g("")},b=()=>{console.log("[DataPreprocessing] Sheet selection cancelled"),o(!1),l(null),i([]),g("")},v=()=>{window.confirm("¿Quieres cargar otro archivo? Se perderán los cambios actuales no guardados.")&&(console.log("[DataPreprocessing] Resetting session - returning to upload"),s(null),l(null),g(""),i([]))};return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6 space-y-4",children:t?e.jsx(qo,{sessionId:t,onReset:v}):e.jsx(Er,{onUploadSuccess:p})}),e.jsx(Yo,{}),a&&n&&e.jsx(Qo,{sheets:c,filename:h,tempId:n,onConfirm:x,onCancel:b})]})}export{an as DataPreprocessing};
